<body>

</body>

<template name="title">
  <h1>UW FSAE Go Links</h1>
</template>

<template name="Home">
  <div class="ui text container">
    <div id="heading">
      {{> title }}
      <p>
        <a href="https://bitbucket.org/uwfsae/links">Source code</a> |
        <a href="/add" class="green">Add links</a>
      </p>
    </div>
    {{> searchBox }}
    {{> searchResults }}
  </div>
</template>

<template name="Add">
  <div class="ui text container">
    <div id="heading">
      {{> title }}
      <p>
        <a href="https://bitbucket.org/uwfsae/links">Source code</a> |
        <a href="/" class="green">Back to search</a> |
        <a href="/admin" class="orange">Modify links</a>
      </p>
    </div>

    {{#autoForm collection="Links" id="insertLinkForm" class="ui form" type="insert"}}
      {{> afQuickField name='_name' }}
      {{> afQuickField name='description' }}
      {{> afQuickField name='url' }}
      <button type="submit" class="ui button">Insert</button>
    {{/autoForm}}
    <div class="ui divider"></div>
    <div class="ui small message">
    Only share password protected or public resources. i.e, <strong>do not post links containing a secret hash</strong> such as google drive document share links.
    </div>
  </div>
</template>

<template name="searchBox">
  <div class="ui icon fluid input large{{#if isLoading}} loading {{/if}}">
    <input type="text" id="search-box" placeholder="Search links..." autofocus>
    <i class="searchRemove remove icon" style="display: none;"></i>
  </div>
</template>

<template name="searchResults">
  <div id='search-result'>

    {{#each getLinks}}
      {{> searchResult }}
    {{/each}}
  </div>
</template>

<template name="searchResult">
  <div class="result">
    <h4 class="name">
      <a href="{{url}}" target="_blank">{{{_name}}}</a>
    </h4>
    <div class="description">
      {{{description}}}
    </div>
  </div>
</template>
